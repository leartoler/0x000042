<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cotidianidad</title>
  <style>
    body {
      margin: 0;
      background: #000042;
      overflow: hidden;
      font-family: "Montserrat", sans-serif;
font-weight: 800;
    }

    .row {
      position: absolute;
      white-space: nowrap;
      display: flex;
      top: 0;
      width: 100vw;
      overflow: hidden;
      height: calc(100vh / 8);
    }

    .marquee {
      display: flex;
      animation: scroll-left 200s linear infinite;
    }

    .marquee.reverse {
      animation: scroll-right 200s linear infinite;
    }

    .word {
      white-space: nowrap;
      padding: .25em;
      font-size: 4em;
      color: #D4D4FF;
      cursor: pointer;
      user-select: none;
      transition: color 0.3s;
    }

    .word.selected {
      color: #ED7A9B;
    }

    @keyframes scroll-left {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    @keyframes scroll-right {
      0% { transform: translateX(-50%); }
      100% { transform: translateX(0); }
    }
  </style>
</head>
<body>
  <div id="container"></div>

  <script>
    const palabrasPorFila = [
      ["el", "hojas", "árboles", "sol", "nubes", "azul", "pájaros", "la", "árbol", "calma", "ciertos", "calidez", "piar", "ruido", "agitado"],
      ["tristes", "inhóspita", "agitadas", "secas", "cafés", "trinan", "cae", "abrupta", "insoportable", "blanco", "rosa"],
      ["paso", "automovil", "tierra", "naturaleza", "técnico", "gris", "aceleración", "tiempo", "ingravidez", "agotar"],
      ["veloz", "oxidado", "mojada", "seca", "muerta", "viva", "opaco", "superado", "rebasada", "inolvodable", "la paciencia"],
      ["se agota", "renace", "pasa", "cual", "a pesar", "tintes", "pero", "sin embargo", "cual", "dejo", "termina"],
      ["trabajo", "letras", "electricidad", "dinero", "empatía", "trabajo, trabajo", "aíre", "frío", "vacío", "espacio"],
      ["entre", "no terminan", "inservible", "difusa", "falso", "innecesario", "aunque", "y", "aunque", "te"],
      ["hojas", "árboles", "sol", "nubes", "azul obscuro", "pájaros", "árbol", "lluvia", "calma", "calidez", "agua", "ruido", "agitado"],
      ["caen", "que sale", "surcan", "que", "entre", "irradia", "que cae", "deja de ser", "pero", "claman", "cesa", "que nunca"],
      ["obscuridad", "comunicacion", "música", "soledad", "humedad", "recuerdos", "vacuo", "nulo", "pasado", "vida", "sueño"],   
    ];

    const container = document.getElementById('container');
    const filas = palabrasPorFila.length;

    const seleccionadas = new Set();

    for (let i = 0; i < filas; i++) {
      const row = document.createElement('div');
      row.className = 'row';
      row.style.top = `${(100 / filas) * i}vh`;

      const marquee = document.createElement('div');
      marquee.className = 'marquee';
      if (i % 2 !== 0) marquee.classList.add('reverse');

      const palabraNodes = [];
      const palabras = palabrasPorFila[i];
      const totalWords = Math.ceil(window.innerWidth / 150) * 10;

      for (let j = 0; j < totalWords; j++) {
        const palabraIndex = j % palabras.length;
        const palabra = palabras[palabraIndex];
        const span = document.createElement('span');
        span.className = 'word';
        span.textContent = palabra;
        const id = `fila${i}-palabra${palabraIndex}`;
        span.dataset.id = id;

        span.addEventListener('click', () => {
          if (seleccionadas.has(id)) {
            seleccionadas.delete(id);
          } else {
            seleccionadas.add(id);
          }
          document.querySelectorAll(`[data-id='${id}']`).forEach(el => {
            el.classList.toggle('selected');
          });
        });

        palabraNodes.push(span);
        marquee.appendChild(span);
      }

      palabraNodes.forEach(original => {
        const clone = original.cloneNode(true);
        clone.addEventListener('click', () => {
          const id = clone.dataset.id;
          if (seleccionadas.has(id)) {
            seleccionadas.delete(id);
          } else {
            seleccionadas.add(id);
          }
          document.querySelectorAll(`[data-id='${id}']`).forEach(el => {
            el.classList.toggle('selected');
          });
        });
        marquee.appendChild(clone);
      });

      row.appendChild(marquee);
      container.appendChild(row);
    }
  </script>
</body>
</html>